## llm和agent测试 | 随机数连乘

具体可查看generate_random_data_toTestLLM目录下的日志文件

#### doubao_llm.log

> 具体可查看generate_random_data_toTestLLM/doubao_llm.log

```
正在解析日志文件: doubao_llm.log
日志数据统计结果：
==================================================
input_tokens:
  平均值: 89.33
  最小值: 79.00
  最大值: 95.00
------------------------------
output_tokens:
  平均值: 11925.28
  最小值: 3171.00
  最大值: 21291.00
------------------------------
total_tokens:
  平均值: 12014.61
  最小值: 3260.00
  最大值: 21386.00
------------------------------
reasoning:
  平均值: 11900.17
  最小值: 3147.00
  最大值: 21263.00
------------------------------
execution_time:
  平均值: 257.51
  最小值: 78.39
  最大值: 461.11
------------------------------

各指标的测试记录列表：
==================================================
input_tokens: [79, 81, 83, 85, 87, 87, 87, 89, 89, 89, 91, 93, 93, 95, 95, 95, 95, 95]
output_tokens: [6427, 13628, 18340, 10274, 11384, 9145, 11751, 17259, 3171, 7399, 7121, 14515, 8419, 21291, 19816, 5670, 16527, 12518]
total_tokens: [6506, 13709, 18423, 10359, 11471, 9232, 11838, 17348, 3260, 7488, 7212, 14608, 8512, 21386, 19911, 5765, 16622, 12613]
reasoning: [6404, 13606, 18317, 10251, 11360, 9121, 11727, 17232, 3147, 7372, 7095, 14490, 8394, 21263, 19787, 5646, 16501, 12490]
duration: [129.221, 361.501, 348.845, 215.69, 243.086, 166.903, 246.446, 360.48, 78.393, 242.205, 126.977, 258.397, 176.741, 461.112, 412.016, 118.892, 391.181, 297.046]
```


#### deepseek_llm.log

```
正在解析日志文件: deepseek_llm.log
日志数据统计结果：
==================================================
input_tokens:
  平均值: 92.42
  最小值: 73.00
  最大值: 107.00
------------------------------
output_tokens:
  平均值: 8131.87
  最小值: 1815.00
  最大值: 16255.00
------------------------------
total_tokens:
  平均值: 8224.29
  最小值: 1916.00
  最大值: 16348.00
------------------------------
reasoning:
  平均值: 8121.19
  最小值: 1803.00
  最大值: 16244.00
------------------------------
execution_time:
  平均值: 382.55
  最小值: 88.41
  最大值: 759.86
------------------------------

各指标的测试记录列表：
==================================================
input_tokens: [73, 75, 75, 77, 79, 81, 83, 83, 85, 85, 87, 89, 89, 91, 93, 93, 95, 95, 97, 97, 99, 99, 101, 101, 103, 105, 107, 107, 107, 107, 107]
output_tokens: [4941, 11183, 3392, 11409, 6415, 4937, 7139, 4524, 5815, 6224, 3275, 4005, 6470, 9207, 16255, 11990, 7616, 7672, 6585, 8077, 6640, 7983, 12448, 1815, 8709, 11266, 15221, 8506, 12506, 8260, 11603]
total_tokens: [5014, 11258, 3467, 11486, 6494, 5018, 7222, 4607, 5900, 6309, 3362, 4094, 6559, 9298, 16348, 12083, 7711, 7767, 6682, 8174, 6739, 8082, 12549, 1916, 8812, 11371, 15328, 8613, 12613, 8367, 11710]
reasoning: [4933, 11174, 3383, 11400, 6406, 4928, 7129, 4514, 5805, 6214, 3265, 3995, 6460, 9196, 16244, 11979, 7605, 7662, 6574, 8066, 6630, 7972, 12435, 1803, 8697, 11253, 15209, 8494, 12494, 8247, 11591]
duration: [242.136, 528.801, 167.152, 549.715, 302.457, 231.261, 334.582, 211.607, 284.318, 291.981, 165.079, 196.707, 312.706, 434.293, 759.861, 562.713, 373.046, 351.986, 309.484, 368.131, 326.703, 372.741, 593.195, 88.413, 414.992, 516.424, 685.158, 389.699, 587.428, 372.116, 534.269]
```


#### doubao_agent.log

```
===== 统计分析结果 =====
总调用次数: 18

input_tokens:
  平均值: 1276.56
  最大值: 1429
  最小值: 1140

output_tokens:
  平均值: 1954.17
  最大值: 3360
  最小值: 1024

total_tokens:
  平均值: 3230.72
  最大值: 4614
  最小值: 2164

reasoning:
  平均值: 1550.78
  最大值: 3046
  最小值: 803
 
execution_time:
  平均值: 52.11 秒
  最大值: 99.66 秒
  最小值: 28.14 秒
```

#### deepseek_agent.log

```
===== 统计分析结果 =====
总调用次数: 18

input_tokens:
  平均值: 1154.00
  最大值: 1267.00
  最小值: 1041.00

output_tokens:
  平均值: 3712.78
  最大值: 11095.00
  最小值: 1714.00

total_tokens:
  平均值: 4866.78
  最大值: 12310.00
  最小值: 2767.00

reasoning:
  平均值: 3546.56
  最大值: 10911.00
  最小值: 1582.00

execution_time:
  平均值: 197.28 秒
  最大值: 567.77 秒
  最小值: 94.25 秒
```



#### **P.S.**

统计：

llm：

- 豆包-出错情况：34,34，35，35，37，38，38，38，38，38
- deepseek-出错情况：31,35，36，38,40，41，42，43，44，47，47,47，47

一些观察现象：虽然n变大了，但计算结果却小了一个量级（10



agent：

- 一个例子：基于deepseek的agent在结果检查时返回null并且消耗大量token的例子：https://smith.langchain.com/public/6a57739b-d818-4c3e-aced-ea3eaaf9e5e0/r

疑问：

1. 是累计算错道，还是在随机n个数下算错5道？（感觉后者比较好

## homeassitant agent

#### 对agent的一些测试记录

- 提问：网关现在连的是什么WiFi，状况如何？
  agent回答记录：https://smith.langchain.com/public/8454f8ef-e65b-42aa-b54f-040188b61dfd/r
- 提问：门窗关了没
  agent回答记录：https://smith.langchain.com/public/62cf749f-26b0-4998-9549-8ec3e9e0e94f/r
- 提问：现在光照如何？
  agent回答记录：https://smith.langchain.com/public/c864b20e-24fe-40bc-9af8-1d8e572e163c/r
- 提问：门窗传感器剩余电量是否充足
  agent回答记录：https://smith.langchain.com/public/b331e2fa-eb41-4a17-b258-0c4a9d30ed5d/r
- 提问：关闭插座
  agent回答记录：https://smith.langchain.com/public/378b5753-c312-428e-8ee6-ea5c3d02c5b1/r
- 提问：切换插座状态
  agent回答记录：https://smith.langchain.com/public/caff19a8-9327-4edd-9555-b04cb51c1adf/r

#### 关于homeassitant agent暂存的一些疑问

- 目前找不到api来获取到设备所在区域。比如客厅和卧室都有插座，但目前并没有办法知道哪个插座在客厅，哪个在卧室。
- 要不要实现if...then的功能，如果要实现，该如何实现....